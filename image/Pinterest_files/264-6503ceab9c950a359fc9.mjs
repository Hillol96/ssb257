(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[264],{"B/lV":function(e,t,n){const r=e=>{const t=e.replace(new RegExp("^"+(window.location.origin||"")),""),n=document&&document.querySelector(`head > script[src='${t}']`);return!!n&&n.hasAttribute("defer")},a=e=>["pinimg","pinterest","pinterdev"].every(t=>!e.includes(t+".com/"));t.a=(e,t)=>{const n=(({name:e,initiatorType:t})=>{switch(t){case"xmlhttprequest":return"xmlhttprequest";case"img":return"image";case"video":return"video";default:{const t=e.split("."),n=(t.length>1&&t.pop()||"").toLowerCase();return["js","mjs"].includes(n)?"script":"css"===n?"css":["mp4","m4v","mov"].includes(n)?"video":["bmp","gif","jpg","jpeg","png","tiff","webp","svg"].includes(n)?"image":"other"}}})(e),{name:i}=e;return{category:n,isDeferred:"script"===n&&r(i),isExternal:a(i),isVisuallyCompleteRequired:"image"===n&&t.includes(i),timing:e}}},LvPn:function(e,t,n){n.d(t,"a",(function(){return c}));var r=n("FylZ"),a=n("pody"),i=n("nEAA");const o=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function c(e,t){const{category:n,timing:c,isDeferred:s,isExternal:u,isVisuallyCompleteRequired:d}=e;return c.responseEnd&&("image"!==n||d)?{name:o(e),id:Object(r.a)(),parentId:t,startTime:c.startTime,endTime:c.responseEnd,annotationMap:Object(a.a)(c),binaryAnnotationMap:{category:Object(i.d)(n),decodedBodySize:Object(i.b)(c.decodedBodySize||0),initiatorType:Object(i.d)(c.initiatorType),isDeferred:Object(i.a)(s),isExternal:Object(i.a)(u),name:Object(i.d)(c.name),nextHopProtocol:Object(i.d)(c.nextHopProtocol),transferSize:Object(i.b)(c.transferSize||0)}}:null}},Og0o:function(e,t,n){n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));const r="closeupImage",a=()=>{if(!document.querySelector)return null;const e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}},"gz6+":function(e,t,n){n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return s}));var r=n("pody"),a=n("+lzj");const i=e=>({...Object(r.a)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),o=()=>{const{firstInputDelay:e,largestContentfulPaint:t}=Object(a.e)();return{firstInputDelayStart:(null==e?void 0:e.startTime)||0,firstInputDelayEnd:(null==e?void 0:e.endTime)||0,largestContentfulPaint:t||0}},c=(e,t)=>Object.keys(t).reduce((n,r)=>({...n,[`${e}${r}`]:t[r]}),{}),s=(e,t)=>Object.keys(e).reduce((n,r)=>t.includes(r)?{...n,[r]:e[r]}:n,Object.freeze({}))},pody:function(e,t,n){t.a=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},xfna:function(e,t,n){n.d(t,"a",(function(){return ue})),n.d(t,"b",(function(){return de})),n.d(t,"c",(function(){return le}));var r=n("q1tI"),a=n("EHyI");var i,o,c,s,u=e=>{const{deviceType:t,isBot:n,isSocialBot:r}=e;return`coreWebVitalsLite.v1.${(r?"socialBot":n&&"bot")||"nonbot"}.${t}`},d=n("7w6Q"),l=n("LrH5"),m=function(e,t){return{name:e,value:void 0===t?-1:0,delta:0,entries:[],id:"v1-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},p=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},f=!1,v=function(e,t){f||"undefined"!=typeof InstallTrigger||(addEventListener("beforeunload",(function(){})),f=!0),addEventListener("visibilitychange",(function n(r){"hidden"===document.visibilityState&&(e(r),t&&removeEventListener("visibilitychange",n,!0))}),!0)},b=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},h=new WeakSet,g=function(e,t,n){var r;return function(){t.value>=0&&(n||h.has(t)||"hidden"===document.visibilityState)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},w=-1,O=function(){return"hidden"===document.visibilityState?0:1/0},S=function(){v((function(e){var t=e.timeStamp;w=t}),!0)},E=function(){return w<0&&(w=O(),S(),b((function(){setTimeout((function(){w=O(),S()}),0)}))),{get timeStamp(){return w}}},j={passive:!0,capture:!0},y=new Date,_=function(e,t){i||(i=t,o=e,c=new Date,L(removeEventListener),T())},T=function(){if(o>=0&&o<c-y){var e={entryType:"first-input",name:i.type,target:i.target,cancelable:i.cancelable,startTime:i.timeStamp,processingStart:i.timeStamp+o};s.map((function(t){t(e)})),s=[]}},C=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){_(e,t),a()},r=function(){a()},a=function(){removeEventListener("pointerup",n,j),removeEventListener("pointercancel",r,j)};addEventListener("pointerup",n,j),addEventListener("pointercancel",r,j)}(t,e):_(t,e)}},L=function(e){["mousedown","keydown","touchstart","pointerdown"].map((function(t){return e(t,C,j)}))};const I=Object(l.a)("LayoutShiftDebugger"),R=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&R(e.parentNode)||null;var x=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:n})=>{let r=[];const a=u(e)+".CLS";let i=0;const o=()=>{var e;i=null!==(e=window.performance)&&void 0!==e&&e.now?window.performance.now():0};window.addEventListener("scroll",o),window.addEventListener("beforeunload",()=>window.removeEventListener("scroll",o)),function(e,t){var n,r=m("CLS",0),a=function(e){e.hadRecentInput||(r.value+=e.value,r.entries.push(e),n())},i=p("layout-shift",a);i&&(n=g(e,r,t),v((function(){i.takeRecords().map(a),n()})),b((function(){r=m("CLS",0),n=g(e,r,t)})))}(({entries:e})=>{const a=t(),o=n(),c=e.slice(r.length);r=r.concat(c.map(e=>({shift:e,route:a,hadRecentNavigation:o>0&&o+500>e.startTime,hadRecentScroll:i>0&&i+500>e.startTime})))},!0);let c=0;const s=setInterval(()=>{if(r.length===c)return;const e=r.slice(c);c=r.length;let t=Object.freeze({});e.forEach(({shift:{value:e,sources:n},route:r,hadRecentNavigation:a,hadRecentScroll:i})=>{if(!n||!n.length)return;const o=e/n.length;n.forEach(({node:e})=>{const n=e?R(e)||"ROOT":"NODE_REMOVED",c={route:r,boundaryId:n,hadRecentNavigation:a,hadRecentScroll:i},s=JSON.stringify(c);t={...t,[s]:{score:((t[s]||{}).score||0)+o,tags:c}}})}),Object.keys(t).forEach(e=>{const{score:n,tags:r}=t[e];d.a.count(a+".shifts",(e=>Math.round(1e3*e))(n),1,{...r})});const n=e.reduce((e,{shift:{value:t}})=>e+t,0);I("Debug CLS boundaries",n,t,e)},1e3);window.addEventListener("beforeunload",()=>clearInterval(s))};var k=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/topics/:interest":return"topic";default:return null}},A=n("gg0E"),P=n("SyXB"),D=n("FZ8N"),F=n("3/Bf"),M=n("+lzj"),N=n("HMdf"),B=n("o9su");var z=()=>Object(M.c)().reduce((e,{identifier:t,loadTime:n,renderTime:r})=>e[t+"_loadTime"]?e[t+"_dupe_loadTime"]?{...e,[t+"_dupe_loadTime"]:n,[t+"_dupe_renderTime"]:r}:e:{...e,[t+"_loadTime"]:n,[t+"_renderTime"]:r},Object.freeze({})),q=n("pody"),$=n("gz6+"),H=n("Og0o");var V=e=>{switch(e){case"pin_closeup":{const e=Object(H.b)();return(e=>{const t=Object(N.d)();return e.reduce((e,{name:n,match:r})=>t.filter(e=>r(e)).slice(0,2).reduce((e,t,r)=>({...e,...Object($.a)(`${n}${r?"_dupe1":""}_`,Object(q.a)(t))}),e),Object.freeze({}))})([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}default:return{}}},W=n("B/lV"),U=n("vzKb"),G=n("FylZ"),K=n("mRg4"),Z=n("LvPn"),Y=n("fZG9");var J=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:n,name:r,pwtStaticContext:a})=>{const i=(()=>{let e=[],t=null;if(window.PerformanceObserver){const n=1e3;t=Object(U.a)({entryTypes:["resource"]},t=>{e=e.concat(t.getEntries()),e.length>n&&(e=e.slice(-n))})}return{get:()=>e,disconnect:()=>{t&&t.disconnect()}}})();let o=!0;return Object(F.c)("TIMING."+r,{tags:{isAuth:a.isAuthenticated}}),{stop:c=>{if(!o)return;o=!1,i.disconnect();const s={type:"stopwatch",name:r,navigationType:"initial_app_load"},u=Object(G.a)(),d=Object(B.a)(),l=i.get(),m={type:"COMPLETE",traceId:Object(G.a)(),startTime:0,endTime:c,spans:[{name:"network_resources",id:u,startTime:0,endTime:c,annotationMap:{},binaryAnnotationMap:{},parentId:null},...l.map(e=>Object(Z.a)(Object(W.a)(e,[]),u)).filter(Boolean)],annotationMap:{...Object($.a)("resource_",n?V(n):{}),...Object($.a)("element_",z()),...Object($.a)("mark_",t&&t.length?Object($.d)(Object(P.d)(),t):{}),...Object($.a)("browser_",d?Object($.b)(d):{})},binaryAnnotationMap:Object(Y.a)({annotateExperiments:e,metricId:s,pwtStaticContext:a,performanceResourceTimings:l})};Object(K.a)({metricId:s,pwtStaticContext:a,result:m,isAuth:a.isAuthenticated})}}};const Q=()=>({current:0,entries:[],firstTs:Number.NEGATIVE_INFINITY,id:`v1-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,max:0,prevTs:Number.NEGATIVE_INFINITY});var X=e=>{let t,n=Q();const r=()=>{"hidden"===document.visibilityState&&(void 0===t||n.max>t)&&(t=n.max,e({name:"CLS",value:n.max,delta:0,id:n.id,entries:n.entries}))},a=e=>{e.hadRecentInput||((e.startTime-n.firstTs>5e3||e.startTime-n.prevTs>1e3)&&(n.firstTs=e.startTime,n.current=0),n.prevTs=e.startTime,n.current+=e.value,n.max=Math.max(n.max,n.current),n.entries.push(e),r())},i=((e,t)=>{try{if(window.PerformanceObserver.supportedEntryTypes.includes(e)){const n=new window.PerformanceObserver(e=>e.getEntries().map(t));return n.observe({type:e,buffered:!0}),n}}catch(o){}return null})("layout-shift",a);var c;i&&((e=>{const t=t=>{"pagehide"!==t.type&&"hidden"!==document.visibilityState||e()};window.addEventListener("visibilitychange",t,!0),window.addEventListener("pagehide",t,!0)})(()=>{i.takeRecords().map(a),r()}),c=()=>{n=Q(),t=void 0},window.addEventListener("pageshow",e=>{e.persisted&&c()},!0))};const ee=Object(l.a)("Vitals"),te={pin_closeup:{LCP:"pin_closeup_lcp",FID:"pin_closeup_fid"},board:{LCP:"board_lcp",FID:"board_fid"}},ne=({surface:e,isAuthenticated:t})=>{if(t)return[];switch(e){case"pin_closeup":return["mweb_unauth_preload_main_pin_image","mweb_srcset_original_image","mweb_pin_page_appshell_unauth"];case"board":return["mweb_unauth_ssr_board_page"];default:return[]}},re=({pwtStaticContext:e,surface:t})=>{const n="pin_closeup"===t||"board"===t?(({pwtStaticContext:e,surface:t})=>{const n=J({annotateExperiments:ne({surface:t,isAuthenticated:e.isAuthenticated}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:te[t].LCP,pwtStaticContext:e}),r=J({name:te[t].FID,pwtStaticContext:e});return(e,t)=>{"LCP"===e?n.stop(t):"FID"===e&&r.stop(t)}})({pwtStaticContext:e,surface:t}):null,r={},a=(a,i)=>{if(!r[a]){r[a]=!0;const o=u(e);d.a.timing(`${o}.${t}.${a}`,i,1),n&&n(a,i)}};!function(e,t){var n,r=E(),a=m("FID"),c=function(e){e.startTime<r.timeStamp&&(a.value=e.processingStart-e.startTime,a.entries.push(e),h.add(a),n())},u=p("first-input",c);n=g(e,a,t),u&&v((function(){u.takeRecords().map(c),u.disconnect()}),!0),u&&b((function(){var r;a=m("FID"),n=g(e,a,t),s=[],o=-1,i=null,L(addEventListener),r=c,s.push(r),T()}))}(({value:e})=>a("FID",(e=>Number(e.toFixed(2)))(e))),function(e,t){var n,r=E(),a=m("LCP"),i=function(e){var t=e.startTime;t<r.timeStamp&&(a.value=t,a.entries.push(e)),n()},o=p("largest-contentful-paint",i);if(o){n=g(e,a,t);var c=function(){h.has(a)||(o.takeRecords().map(i),o.disconnect(),h.add(a),n())};["keydown","click"].map((function(e){addEventListener(e,c,{once:!0,capture:!0})})),v(c,!0),b((function(r){a=m("LCP"),n=g(e,a,t),requestAnimationFrame((function(){requestAnimationFrame((function(){a.value=performance.now()-r.timeStamp,h.add(a),n()}))}))}))}}(({value:e})=>{a("LCPCount",Object(M.d)()),a("LCP",(e=>10*Math.round(e/10))(e))}),function(e,t){var n,r=E(),a=m("FCP"),i=p("paint",(function(e){"first-contentful-paint"===e.name&&(i&&i.disconnect(),e.startTime<r.timeStamp&&(a.value=e.startTime,a.entries.push(e),h.add(a),n()))}));i&&(n=g(e,a,t),b((function(r){a=m("FCP"),n=g(e,a,t),requestAnimationFrame((function(){requestAnimationFrame((function(){a.value=performance.now()-r.timeStamp,h.add(a),n()}))}))})))}(({value:e})=>a("FCP",e))},ae=e=>{const{isAuthenticated:t}=e,n=u(e)+".CLS";let r=null;X(({id:e,value:a})=>{const i=(o=a)<=.1?"good":o<=.25?"adequate":"poor";var o,c;r&&e===r.id?a>r.value&&(r.invalidation||(r={...r,invalidation:"score"},d.a.increment(n+".firstReportScoreWasInvalid",1,{bucket:r.bucket,isAuthenticated:t}),ee("First record score was invalid")),"scoreAndBucket"!==!r.invalidation&&i!==r.bucket&&(r={...r,invalidation:"scoreAndBucket"},d.a.increment(n+".firstReportBucketWasInvalid",1,{bucket:r.bucket,isAuthenticated:t}),ee("First record bucket was invalid"))):(r={id:e,value:a,bucket:i},d.a.timing(n+".firstRecordScore",(c=a,Math.ceil(100*c)),1),d.a.increment(n+".firstRecord",1,{bucket:i,isAuthenticated:t}),ee("CLS report",a))})};var ie=n("EC67"),oe=n("nKUr");const ce=Object(r.createContext)(null),se=Object(r.createContext)(null);function ue({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:i,staticContext:o}){const c=Object(r.useRef)(null),s=Object(r.useRef)(null),u=Object(r.useRef)(t),d=Object(r.useRef)(!0),{path:l}=Object(ie.k)(),m=Object(r.useRef)(l),p=Object(a.a)(o.deviceType);if(Object(r.useEffect)(()=>{m.current=l},[l]),Object(r.useEffect)(()=>{if(Object(N.f)({size:n||1e3}),Object(M.f)(),Object(F.c)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach(e=>{window.performance[e]||Object(F.c)("not_supported.window.performance."+e)}):Object(F.c)("not_supported.window.performance"),window.PerformanceObserver||Object(F.c)("not_supported.window.PerformanceObserer"),Object(A.a)()||Object(F.c)("not_supported.grid_profiler"),d.current=!1,p&&"Chrome"===o.browserName&&!D.c){ae(o),x({staticContext:o,getCurrentRoute:()=>m.current,getLastNavigationTime:()=>s.current||0});const e=k(l);e&&re({pwtStaticContext:o,surface:e})}},[]),u.current!==t){u.current=t,s.current=null!==(f=window.performance)&&void 0!==f&&f.now?window.performance.now():null;const{current:e}=s;if(!d.current){const t=!c.current;Object(F.c)("routeStart",{tags:{action:i}}),Object(N.a)(t),Object(M.a)(t),Object(M.b)(),Object(P.b)();const{customBufferSize:n,defaultBufferSize:r}=Object(N.e)();e&&(Object(F.c)("routeStart.customBufferSize",{count:n}),Object(F.c)("routeStart.defaultBufferSize",{count:r}),c.current={time:e,action:i})}}var f;return Object(oe.jsx)(ce.Provider,{value:p?o:null,children:Object(oe.jsx)(se.Provider,{value:c.current,children:e})})}const de=()=>Object(r.useContext)(se),le=()=>Object(r.useContext)(ce)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/264-6503ceab9c950a359fc9.mjs.map